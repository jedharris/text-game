{
  "metadata": {
    "title": "Simple Adventure",
    "version": "1.0",
    "description": "A simple adventure game demonstrating the state manager.",
    "start_location": "loc_start",
    "author": "Text Game Example"
  },
  "locations": [
    {
      "id": "loc_start",
      "name": "Small Room",
      "description": "You are in a small room. There is a rusty sword on the ground and a wooden door to the north.",
      "exits": {
        "north": {
          "type": "door",
          "to": "loc_hallway",
          "door_id": "door_wooden",
          "name": "wooden doorway",
          "description": "A simple wooden doorway leads north. The door frame is rough-hewn, its planks showing years of wear."
        }
      },
      "items": [
        "item_sword"
      ],
      "tags": [],
      "llm_context": {
        "traits": [
          "cramped stone walls",
          "dim light from narrow embrasure",
          "dusty floor",
          "musty air",
          "cobwebs in corners"
        ],
        "atmosphere": "confined, neglected, starting point",
        "state_variants": {
          "first_visit": "The room feels forgotten, as if no one has entered in years.",
          "revisit": "The familiar small room, unchanged.",
          "sword_taken": "The room feels emptier now."
        }
      }
    },
    {
      "id": "loc_hallway",
      "name": "Long Hallway",
      "description": "You are in a long hallway. There is a locked door to the east and stairs going up.",
      "exits": {
        "south": {
          "type": "door",
          "to": "loc_start",
          "door_id": "door_wooden",
          "name": "wooden doorway",
          "description": "The wooden doorway leads back south to the small room where you began."
        },
        "up": {
          "type": "open",
          "to": "loc_tower",
          "name": "spiral staircase",
          "description": "A narrow spiral staircase carved from living rock winds upward into shadow. The worn treads speak of centuries of footsteps.",
          "llm_context": {
            "traits": [
              "spiral staircase carved from living rock",
              "worn treads polished by centuries of footsteps",
              "narrow passage barely wide enough for one",
              "cold draft descending from above",
              "faint light filtering down",
              "iron handrail bolted to outer wall",
              "moss growing in shadowed corners",
              "steps of uneven height",
              "ancient chisel marks visible on walls",
              "slight rightward curve as it ascends",
              "occasional arrow slits letting in pale light",
              "echo of dripping water from somewhere above",
              "smell of old stone and damp air",
              "dust motes swirling in thin light beams",
              "patches of lichen on damp walls",
              "rope grooves worn into handrail",
              "spider webs spanning between steps",
              "scratched tally marks near base",
              "faded torch sconce holders every ten steps",
              "cool air temperature dropping as you climb",
              "acoustics that carry distant sounds downward",
              "occasional loose pebble underfoot",
              "smooth patches where hands steadied against wall",
              "darkness thickening above and below",
              "sense of great height beyond the curve"
            ],
            "atmosphere": "vertical, ancient, slightly vertiginous",
            "state_variants": {
              "first_visit": "The stairs spiral upward into shadow, promising either doom or discovery.",
              "revisit": "The familiar spiral climb awaits.",
              "from_tower": "The stairway corkscrews down into the gloom of the hallway.",
              "carrying_light": "Your light reveals the full weathered beauty of the ancient stonework."
            }
          }
        },
        "east": {
          "type": "door",
          "to": "loc_locked_room",
          "door_id": "door_treasure",
          "name": "grand archway",
          "description": "A grand stone archway frames an imposing iron door. Gargoyle faces flank the doorframe, their weathered features watching silently.",
          "llm_context": {
            "traits": [
              "grand archway framing the door",
              "carved stone lintel above",
              "geometric patterns in surrounding masonry",
              "runes of warding etched into threshold",
              "slightly raised stone step before entrance",
              "darker stone indicating greater age",
              "gargoyle faces flanking the doorframe",
              "worn prayer stones set into floor",
              "brass fixtures green with age",
              "torch bracket shadows on arch",
              "dust accumulation in carved crevices",
              "faint scratch marks near lock height",
              "air temperature noticeably colder here",
              "slight sulfur smell near the threshold",
              "crystalline deposits on stone edges",
              "sound dampening effect when approaching",
              "odd acoustic echo from beyond",
              "visible draft movement at floor level",
              "ancient keyhole large enough to peer through",
              "metallic tang in the air",
              "discoloration suggesting removed tapestry",
              "chisel marks from attempted forced entry",
              "alignment with morning sun angle",
              "protective symbols worn smooth by touching",
              "sense of significance and finality"
            ],
            "atmosphere": "imposing, mysterious, guarded",
            "state_variants": {
              "door_locked": "The passage radiates an air of forbidden secrets waiting within.",
              "door_unlocked": "The archway seems almost to exhale, as if relieved of its burden.",
              "door_open": "The grand frame now welcomes entry to the treasures beyond.",
              "first_visit": "You sense that few have passed this threshold in living memory.",
              "revisit": "The familiar eastern archway, no less impressive for its familiarity."
            }
          }
        }
      },
      "items": [
        "item_key",
        "item_table"
      ],
      "tags": [],
      "llm_context": {
        "traits": [
          "high vaulted ceiling",
          "stone floor worn smooth",
          "echoing footsteps",
          "draft from above",
          "faded tapestries on walls",
          "a shaft of light from openings high on the north wall"
        ],
        "atmosphere": "transitional, mysterious, ancient",
        "state_variants": {
          "first_visit": "The hallway stretches before you, promising discoveries.",
          "revisit": "The familiar corridor, still echoing your steps.",
          "key_taken": "The hallway feels less mysterious now."
        }
      }
    },
    {
      "id": "loc_tower",
      "name": "Tower Top",
      "description": "You are at the top of a tower. You can see for miles. Stairs lead down.",
      "exits": {
        "down": {
          "type": "open",
          "to": "loc_hallway",
          "name": "spiral staircase",
          "description": "The spiral staircase winds downward into the shadows of the hallway below. A cold draft rises from the depths."
        }
      },
      "items": [
        "item_pedestal"
      ],
      "tags": [],
      "llm_context": {
        "traits": [
          "open to sky",
          "wind whipping past",
          "panoramic view",
          "weathered stone parapet",
          "dizzying height",
          "sunlight filtered through high clouds"
        ],
        "atmosphere": "exposed, exhilarating, isolated",
        "state_variants": {
          "first_visit": "The view takes your breath away.",
          "revisit": "The tower top, as windswept as before.",
          "potion_taken": "The pedestal stands empty now."
        }
      }
    },
    {
      "id": "loc_locked_room",
      "name": "Treasure Room",
      "description": "You are in a treasure room. There is a golden chest here.",
      "exits": {
        "west": {
          "type": "door",
          "to": "loc_hallway",
          "door_id": "door_treasure",
          "name": "iron doorway",
          "description": "The imposing iron doorway leads west back to the hallway. The grand archway frames the exit."
        }
      },
      "items": [
        "item_chest"
      ],
      "tags": [],
      "llm_context": {
        "traits": [
          "glittering walls",
          "smell of old gold",
          "surprisingly small",
          "dust motes in shafts of light",
          "undisturbed for ages"
        ],
        "atmosphere": "rewarding, secretive, climactic",
        "state_variants": {
          "first_visit": "You've found it - the treasure room!",
          "revisit": "The treasure room, still glittering.",
          "chest_opened": "The room feels less magical with the chest open."
        }
      }
    }
  ],
  "items": [
    {
      "id": "item_sword",
      "name": "sword",
      "description": "A rusty but serviceable sword.",
      "location": "loc_start",
      "properties": {
        "type": "object",
        "portable": true
      },
      "llm_context": {
        "traits": [
          "pitted blade",
          "leather-wrapped hilt",
          "still holds an edge",
          "balanced for combat",
          "rust flakes when gripped"
        ],
        "state_variants": {
          "in_location": "lies forgotten on the dusty floor",
          "in_inventory": "a reassuring weight at your side",
          "examined": "despite the rust, still deadly"
        }
      }
    },
    {
      "id": "item_key",
      "name": "key",
      "description": "An iron key.",
      "location": "loc_hallway",
      "properties": {
        "type": "object",
        "portable": true
      },
      "llm_context": {
        "traits": [
          "solid iron",
          "intricate teeth",
          "cold and heavy",
          "no rust despite age",
          "fits in palm"
        ],
        "state_variants": {
          "in_location": "glints on the stone floor",
          "in_inventory": "cold weight in your pocket",
          "examined": "clearly made for an important lock"
        }
      }
    },
    {
      "id": "item_potion",
      "name": "potion",
      "description": "A red potion that glows faintly.",
      "location": "item_pedestal",
      "properties": {
        "type": "object",
        "portable": true
      },
      "llm_context": {
        "traits": [
          "crimson liquid",
          "glass vial",
          "warm to touch",
          "swirls when shaken",
          "faint inner glow"
        ],
        "state_variants": {
          "in_location": "rests on a stone pedestal, pulsing softly",
          "in_inventory": "warm glow through your pack",
          "examined": "healing magic swirls within"
        }
      }
    },
    {
      "id": "item_chest",
      "name": "chest",
      "description": "A large golden chest. It looks valuable!",
      "location": "loc_locked_room",
      "properties": {
        "type": "object",
        "portable": false
      },
      "llm_context": {
        "traits": [
          "ornate gold filigree",
          "heavy oak construction",
          "brass fittings",
          "domed lid",
          "gemstone inlays"
        ],
        "state_variants": {
          "closed": "sits mysteriously, contents unknown",
          "open": "reveals glittering treasures within",
          "examined": "master craftsmanship evident in every detail"
        }
      }
    },
    {
      "id": "item_hidden_gem",
      "name": "gem",
      "description": "A magnificent ruby that pulses with inner fire.",
      "location": "loc_locked_room",
      "properties": {
        "type": "object",
        "portable": true,
        "states": {
          "hidden": true
        }
      },
      "llm_context": {
        "traits": [
          "deep crimson",
          "flawless clarity",
          "warm to touch",
          "ancient and powerful",
          "seems to pulse with life"
        ],
        "state_variants": {
          "hidden": "concealed beneath the chest, waiting to be discovered",
          "revealed": "glints brilliantly in the light",
          "in_inventory": "radiates warmth through your pack"
        }
      }
    },
    {
      "id": "item_lantern",
      "name": "lantern",
      "description": "A small lantern, slightly dusty",
      "location": "item_table",
      "properties": {
        "type": "object",
        "portable": true,
        "provides_light": true,
        "states": {
          "lit": false
        }
      },
      "llm_context": {
        "traits": [
          "hexagonal",
          "hammered copper",
          "rough runes around cap",
          "door on side",
          "wire loop handle"
        ],
        "state_variants": {
          "unlit": "dark and silent",
          "lit": "sheds a helpful light",
          "examined": "crudely made but functional"
        }
      },
      "behaviors": [
        "behaviors.core.light_sources"
      ]
    },
    {
      "id": "item_pedestal",
      "name": "pedestal",
      "description": "A weathered stone pedestal with a shallow depression on top.",
      "location": "loc_tower",
      "properties": {
        "type": "furniture",
        "portable": false,
        "container": {
          "is_container": true,
          "is_surface": true,
          "capacity": 1
        }
      },
      "llm_context": {
        "traits": [
          "ancient stone",
          "waist-high",
          "flat top with shallow depression"
        ],
        "state_variants": {
          "empty": "stands empty, waiting",
          "holding_item": "holds something on its surface"
        }
      }
    },
    {
      "id": "item_table",
      "name": "table",
      "description": "A sturdy wooden table against the wall.",
      "location": "loc_hallway",
      "properties": {
        "type": "furniture",
        "portable": false,
        "container": {
          "is_container": true,
          "is_surface": true,
          "capacity": 5
        }
      },
      "llm_context": {
        "traits": [
          "oak wood",
          "worn surface",
          "sturdy legs"
        ],
        "state_variants": {
          "empty": "its surface bare",
          "holding_items": "holds various items"
        }
      }
    },
    {
      "id": "door_wooden",
      "name": "door",
      "description": "A simple wooden door.",
      "location": "exit:loc_start:north",
      "door": {
        "open": true,
        "locked": false
      },
      "llm_context": {
        "traits": [
          "rough-hewn planks",
          "iron hinges",
          "creaks when moved",
          "worn handle",
          "gaps between boards"
        ],
        "state_variants": {
          "open": "stands ajar, revealing the passage beyond",
          "closed": "blocks the way with its weathered planks",
          "from_start": "leads north to the hallway",
          "from_hallway": "leads south to the small room"
        }
      }
    },
    {
      "id": "door_treasure",
      "name": "door",
      "description": "A heavy iron door with a sturdy lock.",
      "location": "exit:loc_hallway:east",
      "door": {
        "open": false,
        "locked": true,
        "lock_id": "lock_treasure"
      },
      "llm_context": {
        "traits": [
          "thick iron plates",
          "riveted construction",
          "imposing presence",
          "cold to touch",
          "faint runes etched near lock"
        ],
        "state_variants": {
          "locked": "sealed tight, the lock gleaming with purpose",
          "unlocked": "the lock hangs open, defeated",
          "open": "swung wide, revealing treasures beyond",
          "closed": "stands as an iron barrier"
        }
      }
    }
  ],
  "locks": [
    {
      "id": "lock_treasure",
      "description": "A sturdy lock.",
      "properties": {
        "opens_with": [
          "item_key"
        ],
        "auto_unlock": true
      },
      "llm_context": {
        "traits": [
          "heavy iron mechanism",
          "complex tumblers",
          "recently oiled",
          "rune-marked keyhole"
        ],
        "state_variants": {
          "locked": "clicks firmly, resisting all force",
          "unlocked": "mechanism disengaged with a satisfying click"
        }
      }
    }
  ],
  "actors": {
    "player": {
      "id": "player",
      "name": "Landry",
      "description": "",
      "location": "loc_start",
      "inventory": [],
      "flags": {},
      "stats": {}
    }
  }
}